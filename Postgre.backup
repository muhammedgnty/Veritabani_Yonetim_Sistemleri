--
-- PostgreSQL database dump
--

-- Dumped from database version 15.8
-- Dumped by pg_dump version 16.4

-- Started on 2024-12-23 21:59:47

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 257 (class 1255 OID 17366)
-- Name: check_sirket_turu(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.check_sirket_turu() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
    -- DevletSirketi tablosuna ekleme yapılıyorsa
    IF TG_TABLE_NAME = 'DevletSirketi' THEN
        -- Sirket tablosunda bu şirketin türü 'D' değilse hata ver
        IF NOT EXISTS (SELECT 1 FROM public."Sirket" WHERE "sirketNo" = NEW."sirketNo" AND "sirketTuru" = 'D') THEN
            RAISE EXCEPTION 'Bu şirket türü devlet şirketi değildir, devlet şirketi olarak eklenemez!';
        END IF;

        -- Ayrıca OzelSirket tablosunda var olup olmadığını kontrol et
        IF EXISTS (SELECT 1 FROM public."OzelSirket" WHERE "sirketNo" = NEW."sirketNo") THEN
            RAISE EXCEPTION 'Bu şirket özel şirkettir, devlet şirketi olarak eklenemez!';
        END IF;
    END IF;

    -- OzelSirket tablosuna ekleme yapılıyorsa
    IF TG_TABLE_NAME = 'OzelSirket' THEN
        -- Sirket tablosunda bu şirketin türü 'O' değilse hata ver
        IF NOT EXISTS (SELECT 1 FROM public."Sirket" WHERE "sirketNo" = NEW."sirketNo" AND "sirketTuru" = 'O') THEN
            RAISE EXCEPTION 'Bu şirket türü özel şirket değildir, özel şirket olarak eklenemez!';
        END IF;

        -- Ayrıca DevletSirketi tablosunda var olup olmadığını kontrol et
        IF EXISTS (SELECT 1 FROM public."DevletSirketi" WHERE "sirketNo" = NEW."sirketNo") THEN
            RAISE EXCEPTION 'Bu şirket devlet şirketidir, özel şirket olarak eklenemez!';
        END IF;
    END IF;

    RETURN NEW;
END;
$$;


ALTER FUNCTION public.check_sirket_turu() OWNER TO postgres;

--
-- TOC entry 258 (class 1255 OID 17367)
-- Name: dogumtarihikontrol(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.dogumtarihikontrol() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
    -- Doğum tarihi bugünden ileri bir tarih olamaz
    IF NEW."dogumTarihi" > CURRENT_DATE THEN
        RAISE EXCEPTION 'Doğum tarihi bugünden ileri bir tarih olamaz!';
    END IF;

    -- Geçerli ise, yeni kaydı ekle
    RETURN NEW;
END;
$$;


ALTER FUNCTION public.dogumtarihikontrol() OWNER TO postgres;

--
-- TOC entry 263 (class 1255 OID 17368)
-- Name: epostakontrol(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.epostakontrol() RETURNS trigger
    LANGUAGE plpgsql
    AS $_$
BEGIN
    -- Eğer e-posta NULL değilse formatını kontrol et
	IF NEW."ePosta" IS NOT NULL AND NEW."ePosta" <> '' THEN
        IF NEW."ePosta" !~ '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$' THEN
            RAISE EXCEPTION 'Geçersiz e-posta formatıdır!';
        END IF;
    END IF;

    -- NULL veya geçerli formatlı e-posta ile devam et
    RETURN NEW;
END;
$_$;


ALTER FUNCTION public.epostakontrol() OWNER TO postgres;

--
-- TOC entry 265 (class 1255 OID 17369)
-- Name: evlilikyuzdesigetir(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.evlilikyuzdesigetir() RETURNS TABLE(durum text, yuzde real)
    LANGUAGE plpgsql
    AS $$
DECLARE
    toplamKisi INTEGER;
BEGIN
    toplamKisi := kisiSayisiniGetir();

    -- Eğer toplam kişi sayısı 0 ise tüm yüzdeler 0 olmalı
    IF toplamKisi = 0 THEN
        RETURN QUERY 
        SELECT 'Bekar'::TEXT AS durum, 0.0::REAL AS yuzde
        UNION ALL
        SELECT 'Evli'::TEXT AS durum, 0.0::REAL AS yuzde
        UNION ALL
        SELECT 'Boşanmış'::TEXT AS durum, 0.0::REAL AS yuzde;
        RETURN;
    END IF;

    -- Yüzdeleri hesaplayıp tablolama formatında döndür
    RETURN QUERY
    SELECT 'Bekar'::TEXT AS durum, 
           CAST((COUNT(*) FILTER (WHERE "medeniDurum" = 1) * 100.0 / toplamKisi) AS REAL) AS yuzde
    FROM "Kisi"
    UNION ALL
    SELECT 'Evli'::TEXT AS durum, 
           CAST((COUNT(*) FILTER (WHERE "medeniDurum" = 2) * 100.0 / toplamKisi) AS REAL) AS yuzde
    FROM "Kisi"
    UNION ALL
    SELECT 'Boşanmış'::TEXT AS durum, 
           CAST((COUNT(*) FILTER (WHERE "medeniDurum" = 3) * 100.0 / toplamKisi) AS REAL) AS yuzde
    FROM "Kisi";
END;
$$;


ALTER FUNCTION public.evlilikyuzdesigetir() OWNER TO postgres;

--
-- TOC entry 259 (class 1255 OID 17370)
-- Name: hesaptakiparayigetir(integer); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.hesaptakiparayigetir(hesapnumarasi integer) RETURNS integer
    LANGUAGE plpgsql
    AS $$
DECLARE
    bakiye INTEGER;
BEGIN
    -- Girilen hesap numarasına göre bakiye sorgulama
    SELECT B."bakiye" INTO bakiye
    FROM "BankaHesabi" B
    WHERE B."hesapNumarasi" = hesapNumarasi;

    -- Eğer hesap numarası bulunamazsa hata döndür
    IF NOT FOUND THEN
        RAISE EXCEPTION 'Geçersiz hesap numarası: %', hesapNumarasi;
    END IF;

    RETURN bakiye;
END;
$$;


ALTER FUNCTION public.hesaptakiparayigetir(hesapnumarasi integer) OWNER TO postgres;

--
-- TOC entry 264 (class 1255 OID 17579)
-- Name: hesapturukontrol(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.hesapturukontrol() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
    -- SirketHesabi tablosuna ekleme yapılıyorsa 
    IF TG_TABLE_NAME = 'SirketHesabi' THEN
		-- BankaHesabi tablosunda bu hesabın türü 'S' değilse hata ver
        IF NOT EXISTS (SELECT 1 FROM public."BankaHesabi" WHERE "hesapNumarasi" = NEW."hesapNumarasi" AND "hesapTuru" = 'S') THEN
            RAISE EXCEPTION 'Bu hesap türü şirket hesabı değildir, şirket hesabı olarak eklenemez!';
        END IF;

        -- Ayrıca OzelSirket/SirketHesabi tablosunda var olup olmadığını kontrol et
        IF EXISTS (SELECT 1 FROM public."SirketHesabi" WHERE "hesapNumarasi" = NEW."hesapNumarasi") THEN
            RAISE EXCEPTION 'Bu hesap kişisel hesaptır, şirket hesabı olarak eklenemez!';
        END IF;
    END IF;

    -- OzelSirket tablosuna ekleme yapılıyorsa
	-- KişiselHesap tablosuna ekleme yapılıyorsa
    IF TG_TABLE_NAME = 'KisiselHesap' THEN
        -- Sirket tablosunda bu şirketin türü 'O' değilse hata ver
		--BankaHesabi tablosunda bu şirketin türü 'K' değilse hata ver
        IF NOT EXISTS (SELECT 1 FROM public."BankaHesabi" WHERE "hesapNumarasi" = NEW."hesapNumarasi" AND "hesapTuru" = 'K') THEN
            RAISE EXCEPTION 'Bu hesap türü kişisel hesap değildir, kişisel hesap olarak eklenemez!';
        END IF;

        -- Ayrıca DevletSirketi tablosunda var olup olmadığını kontrol et
		-- Ayrıca SirketHesabi tablosunda var olup olmadığını kontrol et
        IF EXISTS (SELECT 1 FROM public."SirketHesabi" WHERE "hesapNumarasi" = NEW."hesapNumarasi") THEN
            RAISE EXCEPTION 'Bu hesap şirket hesabıdır, kişisel hesap olarak eklenemez!';
        END IF;
    END IF;

    RETURN NEW;
END;
$$;


ALTER FUNCTION public.hesapturukontrol() OWNER TO postgres;

--
-- TOC entry 260 (class 1255 OID 17371)
-- Name: hissemiktarikontrol(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.hissemiktarikontrol() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
DECLARE
    toplamHisse INTEGER;
BEGIN
    -- Aynı şirket için toplam hisse miktarını hesapla
    SELECT COALESCE(SUM("hisseMiktari"), 0)
    INTO toplamHisse
    FROM "Calisan"
    WHERE "sirketNo" = NEW."sirketNo";

    -- Yeni hisse miktarıyla toplamı kontrol et
    IF toplamHisse > 100 THEN
        RAISE EXCEPTION 'Şirket numarası % için toplam hisse miktarı 100''ü geçemez!', NEW."sirketNo";
    END IF;

    RETURN NEW;
END;
$$;


ALTER FUNCTION public.hissemiktarikontrol() OWNER TO postgres;

--
-- TOC entry 261 (class 1255 OID 17372)
-- Name: kisisayisinigetir(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.kisisayisinigetir() RETURNS integer
    LANGUAGE plpgsql
    AS $$
BEGIN
	RETURN (SELECT COUNT(*) FROM "Kisi");
END;
$$;


ALTER FUNCTION public.kisisayisinigetir() OWNER TO postgres;

--
-- TOC entry 262 (class 1255 OID 17373)
-- Name: sirketsayisinigetir(character varying); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.sirketsayisinigetir(bakanlikadi character varying) RETURNS integer
    LANGUAGE plpgsql
    AS $$
DECLARE
    sirketSayisi INTEGER;
BEGIN
    -- Girilen bakanlık adına göre şirket sayısını hesapla
    SELECT COUNT(*)
    INTO sirketSayisi
    FROM "DevletSirketi" DS
    INNER JOIN "Bakanlik" B
    ON DS."bakanlikNo" = B."bakanlikNo"
    WHERE B."bakanlikAdi" = bakanlikAdi;

    -- Eğer hiçbir şirket yoksa 0 döndür
    IF NOT FOUND THEN
        RETURN 0;
    END IF;

    RETURN sirketSayisi;
END;
$$;


ALTER FUNCTION public.sirketsayisinigetir(bakanlikadi character varying) OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 214 (class 1259 OID 17375)
-- Name: Bakanlik; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Bakanlik" (
    "bakanlikNo" integer NOT NULL,
    "bakanlikAdi" character varying(20) NOT NULL,
    "yonetenKisi" character varying(20) NOT NULL
);


ALTER TABLE public."Bakanlik" OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 17378)
-- Name: Bakanlik_bakanlikNo_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Bakanlik_bakanlikNo_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Bakanlik_bakanlikNo_seq" OWNER TO postgres;

--
-- TOC entry 3509 (class 0 OID 0)
-- Dependencies: 215
-- Name: Bakanlik_bakanlikNo_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Bakanlik_bakanlikNo_seq" OWNED BY public."Bakanlik"."bakanlikNo";


--
-- TOC entry 216 (class 1259 OID 17379)
-- Name: BankaHesabi; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."BankaHesabi" (
    "hesapNumarasi" integer NOT NULL,
    bakiye integer NOT NULL,
    "olusturulmaTarihi" date NOT NULL,
    "hesabiKullananTCNo" integer NOT NULL,
    "hesapTuru" character(1) NOT NULL,
    CONSTRAINT "bankaHesabiCheck" CHECK (((10000 <= "hesapNumarasi") AND ("hesapNumarasi" <= 99999)))
);


ALTER TABLE public."BankaHesabi" OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 17383)
-- Name: Bolge; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Bolge" (
    "bolgeKodu" integer NOT NULL,
    "bolgeAdi" character varying(20) NOT NULL
);


ALTER TABLE public."Bolge" OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 17386)
-- Name: Bolge_bolgeKodu_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Bolge_bolgeKodu_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Bolge_bolgeKodu_seq" OWNER TO postgres;

--
-- TOC entry 3510 (class 0 OID 0)
-- Dependencies: 218
-- Name: Bolge_bolgeKodu_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Bolge_bolgeKodu_seq" OWNED BY public."Bolge"."bolgeKodu";


--
-- TOC entry 219 (class 1259 OID 17387)
-- Name: Calisan; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Calisan" (
    "calisanNo" integer NOT NULL,
    "sirketNo" integer NOT NULL,
    "TCNo" integer NOT NULL,
    "pozisyonNo" smallint NOT NULL,
    maas integer NOT NULL,
    "hisseMiktari" integer NOT NULL
);


ALTER TABLE public."Calisan" OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 17390)
-- Name: Calisan_calisanNo_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Calisan_calisanNo_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Calisan_calisanNo_seq" OWNER TO postgres;

--
-- TOC entry 3511 (class 0 OID 0)
-- Dependencies: 220
-- Name: Calisan_calisanNo_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Calisan_calisanNo_seq" OWNED BY public."Calisan"."calisanNo";


--
-- TOC entry 221 (class 1259 OID 17391)
-- Name: Calisan_sirketNo_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Calisan_sirketNo_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Calisan_sirketNo_seq" OWNER TO postgres;

--
-- TOC entry 3512 (class 0 OID 0)
-- Dependencies: 221
-- Name: Calisan_sirketNo_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Calisan_sirketNo_seq" OWNED BY public."Calisan"."sirketNo";


--
-- TOC entry 222 (class 1259 OID 17392)
-- Name: DevletSirketi; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."DevletSirketi" (
    "sirketNo" integer NOT NULL,
    "kurulusTarihi" date NOT NULL,
    "bakanlikNo" integer NOT NULL
);


ALTER TABLE public."DevletSirketi" OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 17395)
-- Name: DevletSirketi_bakanlikNo_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."DevletSirketi_bakanlikNo_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."DevletSirketi_bakanlikNo_seq" OWNER TO postgres;

--
-- TOC entry 3513 (class 0 OID 0)
-- Dependencies: 223
-- Name: DevletSirketi_bakanlikNo_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."DevletSirketi_bakanlikNo_seq" OWNED BY public."DevletSirketi"."bakanlikNo";


--
-- TOC entry 224 (class 1259 OID 17396)
-- Name: DevletSirketi_sirketNo_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."DevletSirketi_sirketNo_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."DevletSirketi_sirketNo_seq" OWNER TO postgres;

--
-- TOC entry 3514 (class 0 OID 0)
-- Dependencies: 224
-- Name: DevletSirketi_sirketNo_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."DevletSirketi_sirketNo_seq" OWNED BY public."DevletSirketi"."sirketNo";


--
-- TOC entry 225 (class 1259 OID 17397)
-- Name: Il; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Il" (
    "ilKodu" integer NOT NULL,
    "ilAdi" character varying(20) NOT NULL,
    "bolgeKodu" integer NOT NULL
);


ALTER TABLE public."Il" OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 17400)
-- Name: Il_bolgeKodu_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Il_bolgeKodu_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Il_bolgeKodu_seq" OWNER TO postgres;

--
-- TOC entry 3515 (class 0 OID 0)
-- Dependencies: 226
-- Name: Il_bolgeKodu_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Il_bolgeKodu_seq" OWNED BY public."Il"."bolgeKodu";


--
-- TOC entry 227 (class 1259 OID 17401)
-- Name: Il_ilKodu_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Il_ilKodu_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Il_ilKodu_seq" OWNER TO postgres;

--
-- TOC entry 3516 (class 0 OID 0)
-- Dependencies: 227
-- Name: Il_ilKodu_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Il_ilKodu_seq" OWNED BY public."Il"."ilKodu";


--
-- TOC entry 228 (class 1259 OID 17402)
-- Name: Ilce; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Ilce" (
    "ilceKodu" integer NOT NULL,
    "ilceAdi" character varying(20) NOT NULL,
    "ilKodu" integer NOT NULL
);


ALTER TABLE public."Ilce" OWNER TO postgres;

--
-- TOC entry 229 (class 1259 OID 17405)
-- Name: Ilce_ilKodu_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Ilce_ilKodu_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Ilce_ilKodu_seq" OWNER TO postgres;

--
-- TOC entry 3517 (class 0 OID 0)
-- Dependencies: 229
-- Name: Ilce_ilKodu_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Ilce_ilKodu_seq" OWNED BY public."Ilce"."ilKodu";


--
-- TOC entry 230 (class 1259 OID 17406)
-- Name: Ilce_ilceKodu_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Ilce_ilceKodu_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Ilce_ilceKodu_seq" OWNER TO postgres;

--
-- TOC entry 3518 (class 0 OID 0)
-- Dependencies: 230
-- Name: Ilce_ilceKodu_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Ilce_ilceKodu_seq" OWNED BY public."Ilce"."ilceKodu";


--
-- TOC entry 231 (class 1259 OID 17407)
-- Name: Iletisim; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Iletisim" (
    "iletisimKodu" integer NOT NULL,
    "telNo" character varying(11) NOT NULL,
    "ePosta" character varying(20),
    "ilceKodu" integer NOT NULL
);


ALTER TABLE public."Iletisim" OWNER TO postgres;

--
-- TOC entry 232 (class 1259 OID 17410)
-- Name: Iletisim_ilceKodu_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Iletisim_ilceKodu_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Iletisim_ilceKodu_seq" OWNER TO postgres;

--
-- TOC entry 3519 (class 0 OID 0)
-- Dependencies: 232
-- Name: Iletisim_ilceKodu_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Iletisim_ilceKodu_seq" OWNED BY public."Iletisim"."ilceKodu";


--
-- TOC entry 233 (class 1259 OID 17411)
-- Name: Iletisim_iletisimKodu_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Iletisim_iletisimKodu_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Iletisim_iletisimKodu_seq" OWNER TO postgres;

--
-- TOC entry 3520 (class 0 OID 0)
-- Dependencies: 233
-- Name: Iletisim_iletisimKodu_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Iletisim_iletisimKodu_seq" OWNED BY public."Iletisim"."iletisimKodu";


--
-- TOC entry 234 (class 1259 OID 17412)
-- Name: Kisi; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Kisi" (
    "TCNo" integer NOT NULL,
    adi character varying(20) NOT NULL,
    soyadi character varying(20) NOT NULL,
    "dogumTarihi" date NOT NULL,
    "anaAdi" character varying(20) NOT NULL,
    "babaAdi" character varying(20) NOT NULL,
    "medeniDurum" smallint NOT NULL,
    "iletisimKodu" integer NOT NULL,
    CONSTRAINT "kisiCheck" CHECK (((10000 <= "TCNo") AND ("TCNo" <= 99999)))
);


ALTER TABLE public."Kisi" OWNER TO postgres;

--
-- TOC entry 235 (class 1259 OID 17416)
-- Name: Kisi_iletisimKodu_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Kisi_iletisimKodu_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Kisi_iletisimKodu_seq" OWNER TO postgres;

--
-- TOC entry 3521 (class 0 OID 0)
-- Dependencies: 235
-- Name: Kisi_iletisimKodu_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Kisi_iletisimKodu_seq" OWNED BY public."Kisi"."iletisimKodu";


--
-- TOC entry 236 (class 1259 OID 17417)
-- Name: KisiselHesap; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."KisiselHesap" (
    "hesapNumarasi" integer NOT NULL,
    "anneKizlikSoyadi" character varying(15) NOT NULL,
    "TCNo" integer NOT NULL
);


ALTER TABLE public."KisiselHesap" OWNER TO postgres;

--
-- TOC entry 237 (class 1259 OID 17420)
-- Name: MedeniDurum; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."MedeniDurum" (
    "medeniDurumNo" smallint NOT NULL,
    "medeniDurumu" character varying(10) NOT NULL,
    CONSTRAINT "medeniDurumCheck" CHECK ((1 <= "medeniDurumNo"))
);


ALTER TABLE public."MedeniDurum" OWNER TO postgres;

--
-- TOC entry 238 (class 1259 OID 17424)
-- Name: OzelSirket; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."OzelSirket" (
    "sirketNo" integer NOT NULL,
    "sahipTCNo" integer NOT NULL,
    "calisanSayisi" integer NOT NULL
);


ALTER TABLE public."OzelSirket" OWNER TO postgres;

--
-- TOC entry 239 (class 1259 OID 17427)
-- Name: OzelSirket_sirketNo_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."OzelSirket_sirketNo_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."OzelSirket_sirketNo_seq" OWNER TO postgres;

--
-- TOC entry 3522 (class 0 OID 0)
-- Dependencies: 239
-- Name: OzelSirket_sirketNo_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."OzelSirket_sirketNo_seq" OWNED BY public."OzelSirket"."sirketNo";


--
-- TOC entry 240 (class 1259 OID 17428)
-- Name: Pozisyon; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Pozisyon" (
    "pozisyonNo" smallint NOT NULL,
    pozisyon character varying(15) NOT NULL,
    CONSTRAINT "pozisyonCheck" CHECK (("pozisyonNo" >= 1))
);


ALTER TABLE public."Pozisyon" OWNER TO postgres;

--
-- TOC entry 241 (class 1259 OID 17432)
-- Name: Sirket; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Sirket" (
    "sirketNo" integer NOT NULL,
    "sirketAdi" character varying(30) NOT NULL,
    sektor character varying(20) NOT NULL,
    "sirketTuru" character(1) NOT NULL,
    "iletisimKodu" integer NOT NULL,
    CONSTRAINT "sirketCheck1" CHECK (("sirketTuru" = ANY (ARRAY['D'::bpchar, 'O'::bpchar])))
);


ALTER TABLE public."Sirket" OWNER TO postgres;

--
-- TOC entry 242 (class 1259 OID 17436)
-- Name: SirketHesabi; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."SirketHesabi" (
    "hesapNumarasi" integer NOT NULL,
    "hesapAcilisAmaci" character varying(100) NOT NULL,
    "sirketNumarasi" integer NOT NULL
);


ALTER TABLE public."SirketHesabi" OWNER TO postgres;

--
-- TOC entry 243 (class 1259 OID 17439)
-- Name: SirketHesabi_sirketNumarasi_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."SirketHesabi_sirketNumarasi_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."SirketHesabi_sirketNumarasi_seq" OWNER TO postgres;

--
-- TOC entry 3523 (class 0 OID 0)
-- Dependencies: 243
-- Name: SirketHesabi_sirketNumarasi_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."SirketHesabi_sirketNumarasi_seq" OWNED BY public."SirketHesabi"."sirketNumarasi";


--
-- TOC entry 244 (class 1259 OID 17440)
-- Name: Sirket_iletisimKodu_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Sirket_iletisimKodu_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Sirket_iletisimKodu_seq" OWNER TO postgres;

--
-- TOC entry 3524 (class 0 OID 0)
-- Dependencies: 244
-- Name: Sirket_iletisimKodu_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Sirket_iletisimKodu_seq" OWNED BY public."Sirket"."iletisimKodu";


--
-- TOC entry 245 (class 1259 OID 17441)
-- Name: Sirket_sirketNo_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Sirket_sirketNo_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Sirket_sirketNo_seq" OWNER TO postgres;

--
-- TOC entry 3525 (class 0 OID 0)
-- Dependencies: 245
-- Name: Sirket_sirketNo_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Sirket_sirketNo_seq" OWNED BY public."Sirket"."sirketNo";


--
-- TOC entry 3254 (class 2604 OID 17442)
-- Name: Bakanlik bakanlikNo; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Bakanlik" ALTER COLUMN "bakanlikNo" SET DEFAULT nextval('public."Bakanlik_bakanlikNo_seq"'::regclass);


--
-- TOC entry 3255 (class 2604 OID 17443)
-- Name: Bolge bolgeKodu; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Bolge" ALTER COLUMN "bolgeKodu" SET DEFAULT nextval('public."Bolge_bolgeKodu_seq"'::regclass);


--
-- TOC entry 3256 (class 2604 OID 17444)
-- Name: Calisan calisanNo; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Calisan" ALTER COLUMN "calisanNo" SET DEFAULT nextval('public."Calisan_calisanNo_seq"'::regclass);


--
-- TOC entry 3257 (class 2604 OID 17445)
-- Name: Calisan sirketNo; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Calisan" ALTER COLUMN "sirketNo" SET DEFAULT nextval('public."Calisan_sirketNo_seq"'::regclass);


--
-- TOC entry 3258 (class 2604 OID 17446)
-- Name: DevletSirketi sirketNo; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."DevletSirketi" ALTER COLUMN "sirketNo" SET DEFAULT nextval('public."DevletSirketi_sirketNo_seq"'::regclass);


--
-- TOC entry 3259 (class 2604 OID 17447)
-- Name: DevletSirketi bakanlikNo; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."DevletSirketi" ALTER COLUMN "bakanlikNo" SET DEFAULT nextval('public."DevletSirketi_bakanlikNo_seq"'::regclass);


--
-- TOC entry 3260 (class 2604 OID 17448)
-- Name: Il ilKodu; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Il" ALTER COLUMN "ilKodu" SET DEFAULT nextval('public."Il_ilKodu_seq"'::regclass);


--
-- TOC entry 3261 (class 2604 OID 17449)
-- Name: Il bolgeKodu; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Il" ALTER COLUMN "bolgeKodu" SET DEFAULT nextval('public."Il_bolgeKodu_seq"'::regclass);


--
-- TOC entry 3262 (class 2604 OID 17450)
-- Name: Ilce ilceKodu; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Ilce" ALTER COLUMN "ilceKodu" SET DEFAULT nextval('public."Ilce_ilceKodu_seq"'::regclass);


--
-- TOC entry 3263 (class 2604 OID 17451)
-- Name: Ilce ilKodu; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Ilce" ALTER COLUMN "ilKodu" SET DEFAULT nextval('public."Ilce_ilKodu_seq"'::regclass);


--
-- TOC entry 3264 (class 2604 OID 17452)
-- Name: Iletisim iletisimKodu; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Iletisim" ALTER COLUMN "iletisimKodu" SET DEFAULT nextval('public."Iletisim_iletisimKodu_seq"'::regclass);


--
-- TOC entry 3265 (class 2604 OID 17453)
-- Name: Iletisim ilceKodu; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Iletisim" ALTER COLUMN "ilceKodu" SET DEFAULT nextval('public."Iletisim_ilceKodu_seq"'::regclass);


--
-- TOC entry 3266 (class 2604 OID 17454)
-- Name: Kisi iletisimKodu; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Kisi" ALTER COLUMN "iletisimKodu" SET DEFAULT nextval('public."Kisi_iletisimKodu_seq"'::regclass);


--
-- TOC entry 3267 (class 2604 OID 17455)
-- Name: OzelSirket sirketNo; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."OzelSirket" ALTER COLUMN "sirketNo" SET DEFAULT nextval('public."OzelSirket_sirketNo_seq"'::regclass);


--
-- TOC entry 3268 (class 2604 OID 17456)
-- Name: Sirket sirketNo; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Sirket" ALTER COLUMN "sirketNo" SET DEFAULT nextval('public."Sirket_sirketNo_seq"'::regclass);


--
-- TOC entry 3269 (class 2604 OID 17457)
-- Name: Sirket iletisimKodu; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Sirket" ALTER COLUMN "iletisimKodu" SET DEFAULT nextval('public."Sirket_iletisimKodu_seq"'::regclass);


--
-- TOC entry 3270 (class 2604 OID 17458)
-- Name: SirketHesabi sirketNumarasi; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."SirketHesabi" ALTER COLUMN "sirketNumarasi" SET DEFAULT nextval('public."SirketHesabi_sirketNumarasi_seq"'::regclass);


--
-- TOC entry 3472 (class 0 OID 17375)
-- Dependencies: 214
-- Data for Name: Bakanlik; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Bakanlik" ("bakanlikNo", "bakanlikAdi", "yonetenKisi") FROM stdin;
1	Adalet	Ahmet Yılmaz
2	Sosyal Hizmetler	Zeynep Kaya
3	Sosyal Güvenlik	Mehmet Demir
4	Çevre	Ayşe Çelik
5	Dışişleri	Fatma Özkan
6	Enerji	Hasan Arslan
7	Gençlik ve Spor	Elif Koç
8	Maliye	Hüseyin Güneş
9	İçişleri	Hatice Şahin
10	Turizm	Emine Doğan
11	Eğitim	İsmail Acar
12	Savunma	Sevgi Öztürk
13	Sağlık	Mustafa Polat
14	Teknoloji	Gamze Karaca
15	Tarım ve Orman	Ahmet Yılmaz
16	Ticaret	Yusuf Erdem
17	Ulaştırma	Selin Özdemir
\.


--
-- TOC entry 3474 (class 0 OID 17379)
-- Dependencies: 216
-- Data for Name: BankaHesabi; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."BankaHesabi" ("hesapNumarasi", bakiye, "olusturulmaTarihi", "hesabiKullananTCNo", "hesapTuru") FROM stdin;
10001	3450	2023-01-15	34567	K
10002	2300	2023-03-10	73215	K
10003	1250	2023-02-18	98547	K
15874	4850	2023-06-01	34567	K
15624	2000	2023-07-12	14785	K
15246	5200	2023-09-30	14785	K
20001	100000	2023-01-20	14785	S
20002	50000	2023-03-15	12345	S
14569	50000	2023-12-01	14785	S
20546	110000	2006-01-01	14785	S
15249	90000	2014-02-02	14785	S
\.


--
-- TOC entry 3475 (class 0 OID 17383)
-- Dependencies: 217
-- Data for Name: Bolge; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Bolge" ("bolgeKodu", "bolgeAdi") FROM stdin;
7	GD Anadolu Bölgesi
6	Doğu Anadolu Bölgesi
5	Karadeniz Bölgesi
4	İç Anadolu Bölgesi
3	Akdeniz Bölgesi
2	Ege Bölgesi
1	Marmara Bölgesi
\.


--
-- TOC entry 3477 (class 0 OID 17387)
-- Dependencies: 219
-- Data for Name: Calisan; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Calisan" ("calisanNo", "sirketNo", "TCNo", "pozisyonNo", maas, "hisseMiktari") FROM stdin;
16	2	34581	1	5200	12
17	2	12458	2	4600	6
5	3	34567	2	4800	8
12	5	73215	3	4100	3
14	5	34581	2	4900	9
15	5	34581	3	4300	5
4	3	45785	1	55000	15
11	3	89765	2	4700	15
\.


--
-- TOC entry 3480 (class 0 OID 17392)
-- Dependencies: 222
-- Data for Name: DevletSirketi; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."DevletSirketi" ("sirketNo", "kurulusTarihi", "bakanlikNo") FROM stdin;
5	2000-01-01	17
7	2005-01-01	8
8	2008-02-06	1
9	2023-04-06	8
10	2015-08-16	11
\.


--
-- TOC entry 3483 (class 0 OID 17397)
-- Dependencies: 225
-- Data for Name: Il; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Il" ("ilKodu", "ilAdi", "bolgeKodu") FROM stdin;
4	Ağrı	6
3	Afyon	2
2	Adıyaman	7
1	Adana	3
41	Kocaeli	1
5	Amasya	5
36	Kars	6
6	Ankara	4
7	Antalya	3
8	Artvin	5
9	Aydın	2
10	Balıkesir	1
11	Bilecik	1
12	Bingöl	6
13	Bitlis	6
14	Bolu	5
15	Burdur	3
16	Bursa	1
17	Çanakkale	1
18	Çankırı\t	4
19	Çorum	5
20	Denizli	2
21	Diyarbakır	7
22	Edirne	1
23	Elazığ	6
24	Erzincan	6
25	Erzurum	6
26	Eskişehir	4
27	Gaziantep	7
28	Giresun	5
29	Gümüşhane	5
30	Hakkâri	6
31	Hatay	3
32	Isparta	3
33	Mersin	3
34	İstanbul	1
35	İzmir	2
37	Kastamonu	5
38	Kayseri	4
39	Kırklareli	1
40	Kırşehir	4
42	Konya	4
43	Kütahya	2
44	Malatya	6
45	Manisa	2
46	Kahramanmaraş	3
47	Mardin	7
48	Muğla	2
49	Muş	6
50	Nevşehir	4
51	Niğde	4
52	Ordu	5
53	Rize	5
54	Sakarya	1
55	Samsun	5
56	Siirt	7
57	Sinop	5
58	Sivas	4
59	Tekirdağ	1
60	Tokat	5
61	Trabzon	5
62	Tunceli	6
63	Şanlıurfa	7
64	Uşak	2
65	Van	6
66	Yozgat	4
67	Zonguldak	5
68	Aksaray	4
69	Bayburt	5
70	Karaman	4
71	Kırıkkale	4
72	Batman	7
73	Şırnak	7
74	Bartın	5
75	Ardahan	6
76	Iğdır	6
77	Yalova	1
78	Karabük	5
79	Kilis	7
80	Osmaniye	3
81	Düzce	1
\.


--
-- TOC entry 3486 (class 0 OID 17402)
-- Dependencies: 228
-- Data for Name: Ilce; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Ilce" ("ilceKodu", "ilceAdi", "ilKodu") FROM stdin;
2	İzmit	41
1	Gebze	41
3	Körfez	41
4	Derince	41
5	Kartepe	41
6	Başiskele	41
7	Çayırova	41
8	Darıca	41
9	Dilovası	41
10	Kandıra	41
11	Karamürsel	41
12	Gölcük	41
13	Adalar	34
14	Arnavutköy	34
15	Ataşehir	34
16	Avcılar	34
17	Bağcılar	34
18	Bahçelievler	34
19	Bakırköy	34
20	Başakşehir	34
21	Bayrampaşa	34
22	Beşiktaş	34
23	Beykoz	34
24	Beylikdüzü	34
25	Beyoğlu	34
26	Büyükçekmece	34
27	Çatalca	34
28	Çekmeköy	34
29	Esenler	34
30	Esenyurt	34
31	Eyüpsultan	34
32	Fatih	34
33	Gaziosmanpaşa	34
34	Güngören	34
35	Kadıköy	34
36	Kağıthane	34
37	Kartal	34
38	Küçükçekmece	34
39	Maltepe	34
40	Pendik	34
41	Sancaktepe	34
42	Sarıyer	34
43	Silivri	34
44	Sultanbeyli	34
45	Sultangazi	34
46	Şile	34
47	Şişli	34
48	Tuzla	34
49	Ümraniye	34
50	Üsküdar	34
51	Zeytinburnu	34
52	Adapazarı	54
53	Akyazı	54
54	Arifiye	54
55	Erenler	54
56	Ferizli	54
57	Geyve	54
58	Hendek	54
59	Karapürçek	54
60	Karasu	54
61	Kaynarca	54
62	Kocaali	54
63	Pamukova	54
64	Sapanca	54
65	Serdivan	54
66	Söğütlü	54
67	Taraklı	54
68	Akyaka	36
69	Arpaçay	36
70	Digor	36
71	Kağızman	36
72	Sarıkamış	36
73	Selim	36
74	Susuz	36
\.


--
-- TOC entry 3489 (class 0 OID 17407)
-- Dependencies: 231
-- Data for Name: Iletisim; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Iletisim" ("iletisimKodu", "telNo", "ePosta", "ilceKodu") FROM stdin;
4	04561524785	crazyboy12@gmail.com	2
2	02125635897	zeynep@gmail.com	2
1	05301234567	user1@example.com	41
5	05339876543	user5@example.com	54
6	05469876543	user6@example.com	36
8	05431234567	user8@example.com	34
9	05571239876	user9@example.com	54
10	05631234567	user10@example.com	36
12	05459876543	user12@example.com	34
13	05561239876	user13@example.com	54
14	05651234567	user14@example.com	36
15	05341239876	user15@example.com	41
16	05471234567	user16@example.com	34
17	05531239876	user17@example.com	54
18	05641234567	user18@example.com	36
19	05311239876	user19@example.com	41
20	05421234567	user20@example.com	34
7	05351239876	user7@example.com	4
3	05463789574		2
21	02154789632		21
22	03557897654	sgsg@gmail.com	2
23	05412895632		4
\.


--
-- TOC entry 3492 (class 0 OID 17412)
-- Dependencies: 234
-- Data for Name: Kisi; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Kisi" ("TCNo", adi, soyadi, "dogumTarihi", "anaAdi", "babaAdi", "medeniDurum", "iletisimKodu") FROM stdin;
34567	Ahmet 	Yılmaz 	1990-05-15	Ayşe 	Mehmet 	2	3
87653	Elif 	Demir 	1985-02-20	Fatma 	Hasan 	1	12
98547	Ayşe 	Kaya 	1992-07-30	Hatice 	Hüseyin 	2	12
56789	İsmail 	Yıldız 	1987-09-11	Emine 	Ahmet 	1	5
89765	Murat 	Arslan 	1983-12-18	Emine	Hüseyin 	1	15
73215	Hakan 	Şahin 	1991-10-25	Hatice 	Ahmet 	3	15
56742	Ali 	Demirtaş 	1988-04-07	Emine 	Hüseyin 	2	13
34581	Ayşe 	Aksoy 	1996-05-22	Hatice 	Osman 	1	9
71652	Serkan 	Sarı 	1989-08-09	Zeynep 	İbrahim 	3	8
26374	Ceyda 	Uslu 	1984-03-17	Emine 	Hüseyin 	2	5
14785	Muhammed	Aydın	2000-08-12	Sehergül	Orhan	2	6
45785	Doğan	Ata	2000-01-01	Mecbure	Mecburre	2	2
12458	Mehmet 	Aydın 	1980-11-05	Zeynepp	İbrahim 	3	20
15478	Zeyno	Gunto	2000-05-05	Meftune	Şeref	2	5
12311	Emre	Aydın	2000-12-23	Tennure	Mahmut	1	1
\.


--
-- TOC entry 3494 (class 0 OID 17417)
-- Dependencies: 236
-- Data for Name: KisiselHesap; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."KisiselHesap" ("hesapNumarasi", "anneKizlikSoyadi", "TCNo") FROM stdin;
10001	Kaya	34567
10002	Demir	73215
10003	Çelik	98547
15874	Şahin	34567
15624	Arslan	14785
15246	Kurt	14785
\.


--
-- TOC entry 3495 (class 0 OID 17420)
-- Dependencies: 237
-- Data for Name: MedeniDurum; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."MedeniDurum" ("medeniDurumNo", "medeniDurumu") FROM stdin;
3	Boşanmış
2	Evli
1	Bekar
\.


--
-- TOC entry 3496 (class 0 OID 17424)
-- Dependencies: 238
-- Data for Name: OzelSirket; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."OzelSirket" ("sirketNo", "sahipTCNo", "calisanSayisi") FROM stdin;
1	73215	400
2	56789	200
3	22335	148
6	14785	2000
\.


--
-- TOC entry 3498 (class 0 OID 17428)
-- Dependencies: 240
-- Data for Name: Pozisyon; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Pozisyon" ("pozisyonNo", pozisyon) FROM stdin;
3	Çalışan
2	Yönetici
1	Patron
\.


--
-- TOC entry 3499 (class 0 OID 17432)
-- Dependencies: 241
-- Data for Name: Sirket; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Sirket" ("sirketNo", "sirketAdi", sektor, "sirketTuru", "iletisimKodu") FROM stdin;
1	Yıldız 	Teknoloji	O	13
2	Ege Enerji	Enerji	O	14
3	Öztürkk	İnşaat	O	10
5	Milli Ulaşım	Taşımacılık	D	12
6	MUZE	Yemek	O	1
7	Beş Yıldız	Finans	D	12
8	A	Adalet	D	5
9	B	C	D	3
10	C	D	D	15
\.


--
-- TOC entry 3500 (class 0 OID 17436)
-- Dependencies: 242
-- Data for Name: SirketHesabi; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."SirketHesabi" ("hesapNumarasi", "hesapAcilisAmaci", "sirketNumarasi") FROM stdin;
20001	Yatırım	1
20002	İşletme Sermayesi	6
14569	Tedarikçi Ödemeleri\t	3
20546	Geliştirme Fonları\t	10
15249	A	7
\.


--
-- TOC entry 3526 (class 0 OID 0)
-- Dependencies: 215
-- Name: Bakanlik_bakanlikNo_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Bakanlik_bakanlikNo_seq"', 1, false);


--
-- TOC entry 3527 (class 0 OID 0)
-- Dependencies: 218
-- Name: Bolge_bolgeKodu_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Bolge_bolgeKodu_seq"', 1, false);


--
-- TOC entry 3528 (class 0 OID 0)
-- Dependencies: 220
-- Name: Calisan_calisanNo_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Calisan_calisanNo_seq"', 3, true);


--
-- TOC entry 3529 (class 0 OID 0)
-- Dependencies: 221
-- Name: Calisan_sirketNo_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Calisan_sirketNo_seq"', 1, false);


--
-- TOC entry 3530 (class 0 OID 0)
-- Dependencies: 223
-- Name: DevletSirketi_bakanlikNo_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."DevletSirketi_bakanlikNo_seq"', 1, false);


--
-- TOC entry 3531 (class 0 OID 0)
-- Dependencies: 224
-- Name: DevletSirketi_sirketNo_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."DevletSirketi_sirketNo_seq"', 1, true);


--
-- TOC entry 3532 (class 0 OID 0)
-- Dependencies: 226
-- Name: Il_bolgeKodu_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Il_bolgeKodu_seq"', 2, true);


--
-- TOC entry 3533 (class 0 OID 0)
-- Dependencies: 227
-- Name: Il_ilKodu_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Il_ilKodu_seq"', 3, true);


--
-- TOC entry 3534 (class 0 OID 0)
-- Dependencies: 229
-- Name: Ilce_ilKodu_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Ilce_ilKodu_seq"', 1, false);


--
-- TOC entry 3535 (class 0 OID 0)
-- Dependencies: 230
-- Name: Ilce_ilceKodu_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Ilce_ilceKodu_seq"', 1, false);


--
-- TOC entry 3536 (class 0 OID 0)
-- Dependencies: 232
-- Name: Iletisim_ilceKodu_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Iletisim_ilceKodu_seq"', 1, false);


--
-- TOC entry 3537 (class 0 OID 0)
-- Dependencies: 233
-- Name: Iletisim_iletisimKodu_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Iletisim_iletisimKodu_seq"', 3, true);


--
-- TOC entry 3538 (class 0 OID 0)
-- Dependencies: 235
-- Name: Kisi_iletisimKodu_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Kisi_iletisimKodu_seq"', 1, true);


--
-- TOC entry 3539 (class 0 OID 0)
-- Dependencies: 239
-- Name: OzelSirket_sirketNo_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."OzelSirket_sirketNo_seq"', 2, true);


--
-- TOC entry 3540 (class 0 OID 0)
-- Dependencies: 243
-- Name: SirketHesabi_sirketNumarasi_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."SirketHesabi_sirketNumarasi_seq"', 1, false);


--
-- TOC entry 3541 (class 0 OID 0)
-- Dependencies: 244
-- Name: Sirket_iletisimKodu_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Sirket_iletisimKodu_seq"', 1, false);


--
-- TOC entry 3542 (class 0 OID 0)
-- Dependencies: 245
-- Name: Sirket_sirketNo_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Sirket_sirketNo_seq"', 2, true);


--
-- TOC entry 3277 (class 2606 OID 17460)
-- Name: Bakanlik bakanlikPK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Bakanlik"
    ADD CONSTRAINT "bakanlikPK" PRIMARY KEY ("bakanlikNo");


--
-- TOC entry 3279 (class 2606 OID 17462)
-- Name: BankaHesabi bankaHesabiPK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."BankaHesabi"
    ADD CONSTRAINT "bankaHesabiPK" PRIMARY KEY ("hesapNumarasi");


--
-- TOC entry 3281 (class 2606 OID 17464)
-- Name: Bolge bolgePK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Bolge"
    ADD CONSTRAINT "bolgePK" PRIMARY KEY ("bolgeKodu");


--
-- TOC entry 3283 (class 2606 OID 17466)
-- Name: Calisan calisanPK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Calisan"
    ADD CONSTRAINT "calisanPK" PRIMARY KEY ("calisanNo");


--
-- TOC entry 3285 (class 2606 OID 17468)
-- Name: DevletSirketi devletSirketiPK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."DevletSirketi"
    ADD CONSTRAINT "devletSirketiPK" PRIMARY KEY ("sirketNo");


--
-- TOC entry 3287 (class 2606 OID 17470)
-- Name: Il ilPK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Il"
    ADD CONSTRAINT "ilPK" PRIMARY KEY ("ilKodu");


--
-- TOC entry 3289 (class 2606 OID 17472)
-- Name: Ilce ilcePK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Ilce"
    ADD CONSTRAINT "ilcePK" PRIMARY KEY ("ilceKodu");


--
-- TOC entry 3291 (class 2606 OID 17474)
-- Name: Iletisim iletisimPK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Iletisim"
    ADD CONSTRAINT "iletisimPK" PRIMARY KEY ("iletisimKodu");


--
-- TOC entry 3293 (class 2606 OID 17476)
-- Name: Kisi kisiPK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Kisi"
    ADD CONSTRAINT "kisiPK" PRIMARY KEY ("TCNo");


--
-- TOC entry 3295 (class 2606 OID 17478)
-- Name: KisiselHesap kisiselHesapPK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."KisiselHesap"
    ADD CONSTRAINT "kisiselHesapPK" PRIMARY KEY ("hesapNumarasi");


--
-- TOC entry 3297 (class 2606 OID 17480)
-- Name: MedeniDurum medeniDurumPK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."MedeniDurum"
    ADD CONSTRAINT "medeniDurumPK" PRIMARY KEY ("medeniDurumNo");


--
-- TOC entry 3299 (class 2606 OID 17482)
-- Name: OzelSirket ozelSirketPK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."OzelSirket"
    ADD CONSTRAINT "ozelSirketPK" PRIMARY KEY ("sirketNo");


--
-- TOC entry 3301 (class 2606 OID 17484)
-- Name: Pozisyon pozisyonPK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Pozisyon"
    ADD CONSTRAINT "pozisyonPK" PRIMARY KEY ("pozisyonNo");


--
-- TOC entry 3305 (class 2606 OID 17486)
-- Name: SirketHesabi sirketHesabiPK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."SirketHesabi"
    ADD CONSTRAINT "sirketHesabiPK" PRIMARY KEY ("hesapNumarasi");


--
-- TOC entry 3303 (class 2606 OID 17488)
-- Name: Sirket sirketPK; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Sirket"
    ADD CONSTRAINT "sirketPK" PRIMARY KEY ("sirketNo");


--
-- TOC entry 3324 (class 2620 OID 17489)
-- Name: DevletSirketi devlet_sirketi_check; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER devlet_sirketi_check BEFORE INSERT OR UPDATE ON public."DevletSirketi" FOR EACH ROW EXECUTE FUNCTION public.check_sirket_turu();


--
-- TOC entry 3325 (class 2620 OID 17490)
-- Name: Iletisim epostakontrol; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER epostakontrol BEFORE INSERT OR UPDATE ON public."Iletisim" FOR EACH ROW EXECUTE FUNCTION public.epostakontrol();


--
-- TOC entry 3322 (class 2620 OID 17491)
-- Name: Calisan hisse_miktar_kontrol_trigger; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER hisse_miktar_kontrol_trigger BEFORE INSERT OR UPDATE ON public."Calisan" FOR EACH ROW EXECUTE FUNCTION public.hissemiktarikontrol();


--
-- TOC entry 3323 (class 2620 OID 17492)
-- Name: Calisan hissemiktarikontrol; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER hissemiktarikontrol BEFORE INSERT OR UPDATE ON public."Calisan" FOR EACH ROW EXECUTE FUNCTION public.hissemiktarikontrol();


--
-- TOC entry 3326 (class 2620 OID 17493)
-- Name: Kisi kisidogumtarihikontrol; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER kisidogumtarihikontrol BEFORE INSERT OR UPDATE ON public."Kisi" FOR EACH ROW EXECUTE FUNCTION public.dogumtarihikontrol();


--
-- TOC entry 3327 (class 2620 OID 17581)
-- Name: KisiselHesap kontrol_kisisel_hesap; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER kontrol_kisisel_hesap BEFORE INSERT ON public."KisiselHesap" FOR EACH ROW EXECUTE FUNCTION public.hesapturukontrol();


--
-- TOC entry 3329 (class 2620 OID 17580)
-- Name: SirketHesabi kontrol_sirket_hesabi; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER kontrol_sirket_hesabi BEFORE INSERT ON public."SirketHesabi" FOR EACH ROW EXECUTE FUNCTION public.hesapturukontrol();


--
-- TOC entry 3328 (class 2620 OID 17494)
-- Name: OzelSirket ozel_sirket_check; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER ozel_sirket_check BEFORE INSERT OR UPDATE ON public."OzelSirket" FOR EACH ROW EXECUTE FUNCTION public.check_sirket_turu();


--
-- TOC entry 3306 (class 2606 OID 17495)
-- Name: Calisan calisanFK1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Calisan"
    ADD CONSTRAINT "calisanFK1" FOREIGN KEY ("TCNo") REFERENCES public."Kisi"("TCNo") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3307 (class 2606 OID 17500)
-- Name: Calisan calisanFK2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Calisan"
    ADD CONSTRAINT "calisanFK2" FOREIGN KEY ("sirketNo") REFERENCES public."Sirket"("sirketNo") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3308 (class 2606 OID 17505)
-- Name: Calisan calisanFK3; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Calisan"
    ADD CONSTRAINT "calisanFK3" FOREIGN KEY ("pozisyonNo") REFERENCES public."Pozisyon"("pozisyonNo");


--
-- TOC entry 3309 (class 2606 OID 17510)
-- Name: DevletSirketi devletSirketiFK; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."DevletSirketi"
    ADD CONSTRAINT "devletSirketiFK" FOREIGN KEY ("sirketNo") REFERENCES public."Sirket"("sirketNo") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3310 (class 2606 OID 17515)
-- Name: DevletSirketi devletSirketiFK2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."DevletSirketi"
    ADD CONSTRAINT "devletSirketiFK2" FOREIGN KEY ("bakanlikNo") REFERENCES public."Bakanlik"("bakanlikNo") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3311 (class 2606 OID 17520)
-- Name: Il ilFK1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Il"
    ADD CONSTRAINT "ilFK1" FOREIGN KEY ("bolgeKodu") REFERENCES public."Bolge"("bolgeKodu");


--
-- TOC entry 3312 (class 2606 OID 17525)
-- Name: Ilce ilceFK1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Ilce"
    ADD CONSTRAINT "ilceFK1" FOREIGN KEY ("ilKodu") REFERENCES public."Il"("ilKodu");


--
-- TOC entry 3313 (class 2606 OID 17530)
-- Name: Iletisim iletisimFK1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Iletisim"
    ADD CONSTRAINT "iletisimFK1" FOREIGN KEY ("ilceKodu") REFERENCES public."Ilce"("ilceKodu");


--
-- TOC entry 3314 (class 2606 OID 17535)
-- Name: Kisi kisiFK1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Kisi"
    ADD CONSTRAINT "kisiFK1" FOREIGN KEY ("medeniDurum") REFERENCES public."MedeniDurum"("medeniDurumNo");


--
-- TOC entry 3315 (class 2606 OID 17540)
-- Name: Kisi kisiFK2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Kisi"
    ADD CONSTRAINT "kisiFK2" FOREIGN KEY ("iletisimKodu") REFERENCES public."Iletisim"("iletisimKodu") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3316 (class 2606 OID 17545)
-- Name: KisiselHesap kisiselHesapFK1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."KisiselHesap"
    ADD CONSTRAINT "kisiselHesapFK1" FOREIGN KEY ("hesapNumarasi") REFERENCES public."BankaHesabi"("hesapNumarasi") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3317 (class 2606 OID 17550)
-- Name: KisiselHesap kisiselHesapFK2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."KisiselHesap"
    ADD CONSTRAINT "kisiselHesapFK2" FOREIGN KEY ("TCNo") REFERENCES public."Kisi"("TCNo") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3318 (class 2606 OID 17555)
-- Name: OzelSirket ozelSirketFK; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."OzelSirket"
    ADD CONSTRAINT "ozelSirketFK" FOREIGN KEY ("sirketNo") REFERENCES public."Sirket"("sirketNo") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3319 (class 2606 OID 17560)
-- Name: Sirket sirketFK1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Sirket"
    ADD CONSTRAINT "sirketFK1" FOREIGN KEY ("iletisimKodu") REFERENCES public."Iletisim"("iletisimKodu");


--
-- TOC entry 3320 (class 2606 OID 17565)
-- Name: SirketHesabi sirketHesabiFK1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."SirketHesabi"
    ADD CONSTRAINT "sirketHesabiFK1" FOREIGN KEY ("hesapNumarasi") REFERENCES public."BankaHesabi"("hesapNumarasi") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3321 (class 2606 OID 17570)
-- Name: SirketHesabi sirketHesabiFK2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."SirketHesabi"
    ADD CONSTRAINT "sirketHesabiFK2" FOREIGN KEY ("sirketNumarasi") REFERENCES public."Sirket"("sirketNo") ON UPDATE CASCADE ON DELETE CASCADE;


-- Completed on 2024-12-23 21:59:47

--
-- PostgreSQL database dump complete
--

